===============================================================
 BlackTank LPC1769
===============================================================

 BlackTank LPC1769はARM Cortex-M3とRTOSを楽しむ事を目的に設計
 した基板です。
 有機ELディスプレイ、４系統ユーザ入力、オーディオコーデック、
 マイクロSDカードなどが１枚の基板に搭載されています。
 ARM Cortex-M3にはNXP SemiconductorsのLPC1769を採用しています。

===============================================================
 タスク設計のポイント
===============================================================

* 受け側から設計する。

===============================================================
 タスク設計
===============================================================

1. ユーザインプットタスク(task_userinput)
 ユーザインプットタスクは４系統のユーザ入力の変化を観察する
 タスクです。
 変化があればデータキューを介してシステムコントロールタスクに
 通知されます。

2. システムコントロールタスク(task_systemcontrol)
 システムコントロールタスクはシステムの全体制御を統括する役目を
 果たします。

3. LEDタスク(task_led)
 LEDタスクはLEDの点灯を制御するタスクです。

 点灯は次のマクロで指示することができます。
 LEDMSG(target, control);

 targetは以下から選択できます。
 デバッグ用LED: DBLED0, DBLED1, DBLED2, DBLED3
 スイッチ用LED: SWLED0, SWLED1, SWLED2, SWLED3

 controlは以下から選択できます。
 LED点灯：LEDON
 LED消灯：LEDOFF

 このタスクへの指示はデータキューを介して行われます。
 データキュー内部データ構造は以下のようになっています。

 +---+---+---+---+---+---+---+---+-------------+
 | 7 | 6 | 5 | 4 | 3 | 2 | 1 | 0 | Description |
 +---+---+---+---+---+---+---+---+-------------+
 |               |<-   [3:0]   ->| Target      |
 +---+---+---+---+---+---+---+---+-------------+
 |   | x   x   x |               | Reserved    |
 +---+---+---+---+---+---+---+---+-------------+
 |[7]|                           | Control     |
 +---+---+---+---+---+---+---+---+-------------+

4. ディスプレイタスク(task_display)
 ディスプレイタスクは有機ELディスプレイを制御するタスクです。
 このタスクへの指示はメールボックスを介して行うことができます。

5. ナチュラルタイニーシェルタスク(task_ntshell)
 システムをコンソールから制御することのできるインターフェース
 タスクです。

6. ストレージタスク(task_storage)
 マイクロSDカードを制御するためのタスクです。

7. オーディオタスク(task_audio)
 オーディオを制御するためのタスクです。

===============================================================
 プライオリティ
===============================================================

* ユーザ入力タスクはディスプレイタスクより優先度が高い必要がある。
  表示処理中にユーザ入力があっても処理できる必要があるためである。

===============================================================
 使用上の注意
===============================================================

* OLEDは同じ内容を表示し続けると焼き付きが発生します。
  -> 表示内容を時折変更するようにして下さい。

===============================================================
 基板に関する既知の問題点と対応案
===============================================================

* OLEDの電源配線ミス
  -> 
* スイッチの感触が個体によって異なるので他のスイッチにしたい。
  -> 
* レギュレータのGNDの配線が細い。
  -> 
* 基板名やリビジョン、スペシャルサンクスのシルクが入っていない。
  -> 
* デバッグ用LEDが眩しい
  -> 
* 通信確認LEDが暗い
  -> 

